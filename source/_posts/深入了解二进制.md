---
title: 深入了解二进制
date: 2024-01-30 12:45:36
tags:
- 二进制
---

## 前言

由于计算机的硬件决定，计算机中任何数据都是以二进制码存储的。

对于一名程序员，深入了解一下二进制和各个进制间的转换，我认为是一个基本功。

## 二进制

* 二进制：以2为基数，以0和1两个数码来表示的数。
* 进位规则：逢二进一

一台计算机由运算器、控制器、存储器、输入和输出设备组成。由于只有加法运算器，计算机就无法直接的进行减法的运算，所以计算机中减法是通过加法来实现的，可以看作成加上这个数的相反数，所以二进制码中便要存在一个符号位，来标记这个数是负数。为了利于计算机计算与存储，便出现了原码、反码和补码的概念（实际上，它们的引入，是为了解决计算机中做减法和引入符号位的问题）。

* 符号位：存在于二进制码中最左边的一位，如果该位是0，则为正数；反之，则为负数。
* 原码：最高位表示符号位，其余位存放该数的二进制的绝对值。
* 反码：正数的反码等于原码；负数的反码计算它原码除符号位外，按位取反。
* 补码：正数的补码等于它的原码；负数的补码等于反码+1***（这并不是补码的定义，只是补码刚好可以通过这么计算）***。

### 原码：

* 正数：0 -> 0000; 1 -> 0001; 2 -> 0010; 3 -> 0011

* 负数：-0 -> 1000; -1 -> 1001; -2 -> 1001; -3 -> 1011

对于 2 + 3 =  0010 + 0011 = 0101 = 5; **1 + (-1) = 0001 + 1001 = 1010 = -2**

显而易见，上述中对于负数的加法出现的错误，这是因为符号位的存在，才引起的错误。为方便计算机计算，故我们需要以补码的方式表示负数（下面会讲）。

### 反码：

* 正数：0 -> 0000; 1 -> 0001; 2 -> 0010; 3 -> 0011
* 负数：-0 -> 1111; -1 -> 1110; -2 -> 1101; -3 -> 1100

对于 1 + (-1) = 0001 + 1110 = 1111 = -0; **(-1) + (-2) = 1110 + 1101 = 1011 = -4**

显而易见，使用反码表示负数，对于两个负数的相加会出现错误。

### 补码：

* 正数：0 -> 0000; 1 -> 0001; 2 -> 0010; 3 -> 0011
* 负数：-0 -> 1000; -1 -> 1111; -2 -> 1110; -3 -> 1101

对于 1 + (-1) = 0001 + 1111 = 0000 = 0; 1 + 2 = 0001 + 0010 = 3; (-1) + (-2) = 1111 + 1110 = 1101 = -3

显而易见，上述计算均正确。由于补码中符号位可以与数值位一起参加运算，并且可以将减法运算转换为加法运算，便于计算机计算，所以计算机中均采用补码进行加减运算。



反码与补码的具体由来详见：《计算机组成原理》
